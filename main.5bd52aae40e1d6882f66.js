(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0HMw":function(e,t,n){},LlGi:function(e,t,n){e.exports=n.p+"images/photo-red.jpg"},O8px:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,i){return'\r\n                    <span class="modal-info-genres-text-list-data">'+e.escapeExpression(e.lambda(t,t))+"</span>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,i){var r,o,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,u="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="modal">\r\n    <div class="modal-container">\r\n        <img class="modal-image" src="https://image.tmdb.org/t/p/w500'+c(typeof(o=null!=(o=d(n,"poster_path")||(null!=t?d(t,"poster_path"):t))?o:l)===u?o.call(s,{name:"poster_path",hash:{},data:i,loc:{start:{line:3,column:69},end:{line:3,column:84}}}):o)+'" alt="'+c(typeof(o=null!=(o=d(n,"title")||(null!=t?d(t,"title"):t))?o:l)===u?o.call(s,{name:"title",hash:{},data:i,loc:{start:{line:3,column:91},end:{line:3,column:100}}}):o)+'" />\r\n\r\n        <div class="modal-info">\r\n            <h2 class="modal-info-title">'+c(typeof(o=null!=(o=d(n,"title")||(null!=t?d(t,"title"):t))?o:l)===u?o.call(s,{name:"title",hash:{},data:i,loc:{start:{line:6,column:41},end:{line:6,column:50}}}):o)+'</h2>\r\n            <p class="modal-info-vote card-text">\r\n                Vote / Votes<span class="modal-info-vote-average">'+c(typeof(o=null!=(o=d(n,"vote_average")||(null!=t?d(t,"vote_average"):t))?o:l)===u?o.call(s,{name:"vote_average",hash:{},data:i,loc:{start:{line:8,column:66},end:{line:8,column:82}}}):o)+'</span>/<span\r\n                    class="modal-info-vote-count">'+c(typeof(o=null!=(o=d(n,"vote_count")||(null!=t?d(t,"vote_count"):t))?o:l)===u?o.call(s,{name:"vote_count",hash:{},data:i,loc:{start:{line:9,column:50},end:{line:9,column:64}}}):o)+'</span>\r\n            </p>\r\n            <p class="modal-info-popularity card-text">\r\n                Popularity<span class="modal-info-popularity-data">'+c(typeof(o=null!=(o=d(n,"popularity")||(null!=t?d(t,"popularity"):t))?o:l)===u?o.call(s,{name:"popularity",hash:{},data:i,loc:{start:{line:12,column:67},end:{line:12,column:81}}}):o)+'</span>\r\n            </p>\r\n            <p class="modal-info-title-original card-text">\r\n                Original Title<span class="modal-info-title-original-data">'+c(typeof(o=null!=(o=d(n,"original_title")||(null!=t?d(t,"original_title"):t))?o:l)===u?o.call(s,{name:"original_title",hash:{},data:i,loc:{start:{line:15,column:75},end:{line:15,column:93}}}):o)+'</span>\r\n            </p>\r\n            <div class="modal-info-genres">\r\n                <p class="modal-info-genres-text card-text">\r\n                    Genre\r\n                </p>\r\n                <p class="modal-info-genres-text-list">'+(null!=(r=d(n,"each").call(s,null!=t?d(t,"genres"):t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:21,column:55},end:{line:23,column:29}}}))?r:"")+'                </p>\r\n            </div>\r\n            <h3 class="modal-info-about">About</h3>\r\n            <p class="modal-info-description">\r\n                '+c(typeof(o=null!=(o=d(n,"overview")||(null!=t?d(t,"overview"):t))?o:l)===u?o.call(s,{name:"overview",hash:{},data:i,loc:{start:{line:28,column:16},end:{line:28,column:28}}}):o)+'\r\n            </p>\r\n            <div class="modal-info-buttons-list">\r\n                <button type="button" class="modal-info-buttons-list-item" id="js-watched-button">Add to\r\n                    watched</button>\r\n                <button type="button" class="modal-info-buttons-list-item" id="js-queue-button">Add to queue</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},useData:!0})},QfWi:function(e,t,n){"use strict";n.r(t);n("0HMw");var a={headerSearchWarningShow:function(){return document.querySelector("#header-search-warning-show")},filmsGallery:document.querySelector("#films-gallery"),header:document.querySelector(".header-container-js"),logo:document.querySelector(".header-logo-js"),homeLink:document.querySelector(".navigation-list-item-link-home"),spinner:document.querySelector(".js-spinner"),openModalBtn:document.querySelector('[data-action="open-modal"]'),closeModalBtn:document.querySelector('[data-action="close-modal"]'),backdrop:document.querySelector(".js-backdrop"),logOutbutton:document.querySelector(".js-singOut-button"),userName:document.querySelector(".js-display-username"),paginationContainer:document.querySelector("#pagination")},i=(n("lYjL"),n("IvQZ"),n("8cZI"),n("lmye"),n("WB5j"),n("D/wG"),n("JBxO"),n("FdtR"),n("QDHd"),n("Muwe"),n("4NM0"),n("aZFp"),{homeHeader:'<div class=" header home-header header-container">\n  \n  <form action="" class="header-search-form" id="search-form">\n    <input type="text" name="query" class="header-search-form-input" placeholder="Поиск фильмов">\n    <button class="header-search-form-btn" type="submit"></button>\n  </form>\n  <p id="header-search-warning-show"  class="header-search-warning-show is-hidden">Search result not successful. Enter the correct movie name and</p>\n',myLibraryHeader:'<div class=" header my-library-header header-container">\n  \n  <ul class="header-button-list">\n    <li class="header-button-item"><button class="header-button header-button-watched is-active-btn">watched</button></li>\n    <li class="header-button-item"><button class="header-button header-button-queue">queue</button></li>\n  </ul>\n',modalHeader:'<div class="header modal-header header-container">\n'}),r=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],o=(n("fp7Y"),n("2c84")),s=n.n(o),l=document.querySelector(".js-spinner");function u(){l.classList.add("is-open")}function c(){l.classList.remove("is-open")}var d={query:"",page:1,setQuery:function(e){this.query=e},setPage:function(e){this.page=e},incrementPage:function(){this.page+=1},decrementPage:function(){this.page-=1},resetPage:function(){this.page=1}},m={filmsGallery:document.querySelector("#films-gallery"),paginationContainer:document.querySelector("#pagination")};function p(e){var t={totalItems:e,itemsPerPage:20,visiblePages:5,page:1,centerAlign:!1,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}};new s.a("pagination",t)}n("FWxf"),n("lAJ5"),n("Xlt+");var h=n("SzhR");n("DSQa"),n("SHTW"),n("Ri8E");function f(){window.removeEventListener("keydown",v),document.body.classList.remove("show-modal")}function v(e){"Escape"===e.code&&f()}a.openModalBtn.addEventListener("click",(function(){window.addEventListener("keydown",v),a.backdrop.classList.remove("is-hidden"),document.body.classList.add("show-modal")})),a.closeModalBtn.addEventListener("click",f),a.backdrop.addEventListener("click",(function(e){e.currentTarget===e.target&&f()}));h.a.initializeApp({apiKey:"AIzaSyDVSGFWIHlGY-v2KnvMPMgQARlHPSGC3zU",authDomain:"filmoteka-auth.firebaseapp.com",databaseURL:"https://filmoteka-auth-default-rtdb.europe-west1.firebasedatabase.app",projectId:"filmoteka-auth",storageBucket:"filmoteka-auth.appspot.com",messagingSenderId:"223012353998",appId:"1:223012353998:web:4593ffb7a66b0d0ec55d9f"});var g=new firebaseui.auth.AuthUI(h.a.auth());new h.a.auth.PhoneAuthProvider;var y=h.a.database().ref("users"),b="";console.log(b);var L={signInFlow:"popup",signInOptions:[h.a.auth.PhoneAuthProvider.PROVIDER_ID,h.a.auth.GoogleAuthProvider.PROVIDER_ID,h.a.auth.EmailAuthProvider.PROVIDER_ID,firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(e){if(e)return location.reload(),w(firebaseUser.uid),!0}}};function w(e){var t={userId:e,userWatched:[],userQueue:[]},n={};return n["users/"+e]=t,h.a.database().ref().update(n)}a.logOutbutton.addEventListener("click",(function(e){h.a.auth().signOut(),localStorage.removeItem("currentUserId"),window.location.reload()})),h.a.auth().onAuthStateChanged((function(e){if(e){var t=e.displayName;null===t&&(t="guest"),a.userName.innerHTML=""+t,document.body.classList.remove("show-modal"),a.logOutbutton.classList.remove("is-hidden"),a.openModalBtn.classList.add("is-hidden"),localStorage.setItem("currentUserId",JSON.stringify(e.uid)),b=JSON.parse(localStorage.getItem("currentUserId")),console.log(b),T(b)||w(b)}else a.userName.innerHTML="",a.openModalBtn.classList.remove("is-hidden"),a.logOutbutton.classList.add("is-hidden"),g.start("#firebaseui-auth-container",L)}));var S=n("VYoj"),k=n.n(S);n("v7UC");function q(e){var t=T(b);if(t){if(t.userWatched){if(t.userQueue||(t.userQueue=[],W(b,t)),a.addToWatchedBtn.classList.contains("js-is-in-watched")){var n=t.userWatched.findIndex((function(t){return t.id===e.id}));return e.isInWatched=!1,t.userWatched.splice(n,1),W(b,t),a.addToWatchedBtn.textContent="Add to Watched",a.addToWatchedBtn.classList.remove("js-is-in-watched"),k.a.success("Removed from your Watched list"),t.userWatched}var i=t.userWatched.some((function(t){return t.id===e.id}));return i?(k.a.warning("This movie has already been added"),t.userWatched):(i||(e.isInWatched=!0,t.userWatched.push(e),W(b,t),k.a.success("Added to your Watched list"),B()),t.userWatched)}e.isInWatched=!0,t.userWatched=[],t.userWatched.push(e),t.userQueue||(t.userQueue=[]),W(b,t),k.a.success("Added to your Watched list"),B()}else k.a.error("Please LOG IN to add the movie")}function H(e){var t=T(b);if(t.userWatched){var n=t.userWatched.some((function(t){return t.id===e.id}));return console.log(n),n}return!1}function T(e){var t={};return y.on("value",(function(n){t=n.val()[""+e],console.log(t)})),t}function A(e){if(e){var t=[];return y.on("value",(function(n){t=n.val()[""+e].userWatched})),t}}function Q(e){if(e){var t=[];return y.on("value",(function(n){t=n.val()[""+e].userQueue})),t}}function W(e,t){var n={userId:e,userWatched:t.userWatched,userQueue:t.userQueue},a={};return a["users/"+e]=n,h.a.database().ref().update(a)}function B(){a.addToWatchedBtn.textContent="Watched (remove)",a.addToWatchedBtn.classList.add("js-is-in-watched")}function I(){a.addToQueueBtn.textContent="In queue (remove)",a.addToQueueBtn.classList.add("js-is-in-queue")}function M(){a.addToQueueBtn.textContent="Add to Queue",a.addToQueueBtn.classList.remove("js-is-in-queue")}k.a.options={closeButton:!0,debug:!1,newestOnTop:!0,progressBar:!1,positionClass:"toast-bottom-right",preventDuplicates:!1,onclick:null,showDuration:"200",hideDuration:"400",timeOut:"2000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},y.on("value",(function(e){var t=e.val();console.log(t)}));var P,_={header:document.querySelector(".header-container-js"),filmsGallery:document.querySelector("#films-gallery"),libraryBtn:document.querySelector(".navigation-list-item-link-my-library"),paginationContainer:document.querySelector("#pagination"),homeLink:document.querySelector(".navigation-list-item-link-home")};function j(e){_.header.innerHTML="",_.header.insertAdjacentHTML("beforeend",e),_.libraryBtn.addEventListener("click",x)}function E(){return fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=ffddee44025dd24685ea61d637d56d24&page="+d.page).then((function(e){return e.json()})).then((function(e){var t=e.results,n=e.total_results;return t.map((function(e){var t=e.id,n=e.poster_path,a=e.title,i=e.release_date,o=e.genre_ids,s=r.filter((function(e){return o.includes(e.id)})).map((function(e){return e.name})),l=[];s.length<3?l=s:(l=s.slice(0,2)).push("Other"),i||(i="Unknown release date");var u='\n<li class="films-gallery-item" data-id="'+t+'">\n  <img\n    class="films-gallery-item-image"\n    src="https://image.tmdb.org/t/p/w342'+n+'"\n    alt="«'+a+'» film poster"\n  >\n  <p class="films-gallery-item-title">'+a.toUpperCase()+'</p>\n  <p class="films-gallery-item-info">'+l.join(", ")+" | "+i.split("-")[0]+"</p>\n</li>\n";_.filmsGallery.insertAdjacentHTML("beforeend",u)})),{totalAmountOfFilms:n}}))}function x(e){e.preventDefault(),_.homeLink.classList.remove("current"),_.libraryBtn.classList.add("current");var t=A(b),n=Q(b);j(i.myLibraryHeader),document.querySelector(".modal")&&document.querySelector(".modal").remove();var a=document.querySelector(".header-button-watched"),r=document.querySelector(".header-button-queue");function o(e,t,n){e.addEventListener("click",(function(a){a.preventDefault(),s(n),t.classList.remove("is-active-btn"),e.classList.add("is-active-btn")}))}function s(e){if(e)_.filmsGallery.innerHTML="",e.map((function(e){var t=e.id,n=e.poster_path,a=e.title,i=e.release_date,r=e.genres,o=e.vote_average,s='\n<li class="films-gallery-item" data-id="'+t+'">\n  <img\n    class="films-gallery-item-image"\n    src="https://image.tmdb.org/t/p/w342'+n+'"\n    alt="«'+a+'» film poster"\n  >\n  <p class="films-gallery-item-title">'+a.toUpperCase()+'</p>\n  <p class="films-gallery-item-info">'+r.join(", ")+" | "+i+'<span class="modal-info-vote-average library">'+o+"</span></p>\n</li>\n";_.filmsGallery.insertAdjacentHTML("beforeend",s)}));else{_.filmsGallery.innerHTML="";_.filmsGallery.insertAdjacentHTML("beforeend",'<div class="films-gallery-warning"><p>No movies here yet. Visit Home to add some =)</p><div>')}}_.filmsGallery.innerHTML="",_.paginationContainer.style.display="none",s(t),o(r,a,n),o(a,r,t)}P=i.homeHeader,d.resetPage(),u(),j(P),E().then((function(e){var t=e.totalAmountOfFilms;p(t),function(e){m.paginationContainer.addEventListener("click",(function t(n){if(console.log("сработало: "+t),"A"===n.target.nodeName){m.filmsGallery.innerHTML="",u();var a=n.target;switch(a.className){case"tui-page-btn":return d.setPage(Number(a.textContent)),void E().finally(c);case"tui-page-btn tui-prev":return d.decrementPage(),void E().finally(c);case"tui-page-btn tui-next":return d.incrementPage(),void E().finally(c);case"tui-page-btn tui-first":return d.resetPage(),void E().finally(c);case"tui-page-btn tui-last":return d.setPage(e/20),void E().finally(c);case"tui-page-btn tui-first-child":return d.resetPage(),void E().finally(c);case"tui-page-btn tui-prev-is-ellip tui-first-child":var i=document.querySelector(".tui-is-selected");return d.setPage(Number(i.textContent)),void E().finally(c);case"tui-page-btn tui-next-is-ellip tui-last-child":var r=document.querySelector(".tui-is-selected");return d.setPage(Number(r.textContent)),void E().finally(c);default:console.log("Hi!")}}}))}(t)})).catch(console.log).finally(c);var D={filmsGallery:document.querySelector("#films-gallery"),searchForm:document.querySelector("#search-form"),notice:document.querySelector(".header-search-warning-show"),pagination:document.querySelector("#pagination")};function C(e){e.preventDefault(),D.pagination.innerHTML="",d.resetPage(),D.notice.classList.add("is-hidden");var t=e.currentTarget,n=t.elements.query;d.setQuery(n.value),""===n.value&&(D.notice.classList.remove("is-hidden"),D.notice.textContent="Unable to make a search query. Please enter any text!"),u(),D.paginationContainer=document.querySelector("#pagination"),(d.query,O().then((function(e){var t=e.totalAmountOfFilms;p(t),function(e){D.paginationContainer.addEventListener("click",(function(t){if("A"===t.target.nodeName){D.filmsGallery.innerHTML="",u();var n=t.target;switch(n.className){case"tui-page-btn":return d.setPage(Number(n.textContent)),void O().finally(c);case"tui-page-btn tui-prev":return d.decrementPage(),void O().finally(c);case"tui-page-btn tui-next":return d.incrementPage(),void O().finally(c);case"tui-page-btn tui-first":return d.resetPage(),void O().finally(c);case"tui-page-btn tui-last":return d.setPage(e/20),void O().finally(c);case"tui-page-btn tui-first-child":return d.resetPage(),void O().finally(c);case"tui-page-btn tui-prev-is-ellip tui-first-child":var a=document.querySelector(".tui-is-selected");return d.setPage(Number(a.textContent)),void O().finally(c);case"tui-page-btn tui-next-is-ellip tui-last-child":var i=document.querySelector(".tui-is-selected");return d.setPage(Number(i.textContent)),void O().finally(c);default:console.log("Hi!")}}}))}(t)}))).catch(console.log).finally(c),t.reset()}function O(){return fetch("https://api.themoviedb.org/3/search/movie?api_key=ffddee44025dd24685ea61d637d56d24&language=en-US&page="+d.page+"&include_adult=false&query="+d.query).then((function(e){return e.json()})).then((function(e){var t=e.results,n=e.total_results;return 0===t.length?(D.notice.classList.remove("is-hidden"),void(D.notice.textContent="Your search did not match any films. Please clarify the request!")):(D.filmsGallery.innerHTML="",t.map((function(e){var t=e.id,n=e.poster_path,a=e.title,i=e.release_date,o=e.genre_ids,s=r.filter((function(e){return o.includes(e.id)})).map((function(e){return e.name})),l=[];s.length<3?l=s:(l=s.slice(0,2)).push("Other"),i||(i="Unknown release date");var u='\n<li class="films-gallery-item" data-id="'+t+'">\n  <img\n    class="films-gallery-item-image"\n    src="https://image.tmdb.org/t/p/w342'+n+'"\n    alt="«'+a+'» film poster"\n  >\n  <p class="films-gallery-item-title">'+a.toUpperCase()+'</p>\n  <p class="films-gallery-item-info">'+l.join(", ")+" | "+i.split("-")[0]+"</p>\n</li>\n";D.filmsGallery.insertAdjacentHTML("beforeend",u)})),{totalAmountOfFilms:n})}))}D.searchForm.addEventListener("submit",C);var G=C,N=n("O8px"),U=n.n(N),R="ffddee44025dd24685ea61d637d56d24",F=0,V=0,Y="",J="",Z="";function z(){if(a.header.innerHTML="",document.querySelector(".modal").remove(),a.filmsGalleryList.style.display="flex","HOME"===J&&(a.header.insertAdjacentHTML("beforeend",i.homeHeader),a.searchForm=document.querySelector("#search-form"),a.searchForm.addEventListener("submit",G),""!==Y?function(e,t,n){(function(e,t){return fetch("https://api.themoviedb.org/3/search/movie?api_key="+R+"&language=en-US&query="+t+"&page="+e+"&include_adult=false").then((function(e){return e.json()}))})(e,n).then((function(e){var n=e.results,i=e.total_results;return function(e,t){e.map((function(e){var n=e.id,i=e.poster_path,r=e.title,o=e.release_date,s=e.genre_ids,l=t.filter((function(e){return s.includes(e.id)})).map((function(e){return e.name})),u=[];l.length<3?u=l:(u=l.slice(0,2)).push("Other");var c='\n<li class="films-gallery-item" data-id="'+n+'">\n  <img\n    class="films-gallery-item-image"\n    src="https://image.tmdb.org/t/p/w342'+i+'"\n    alt="«'+r+'» film poster"\n  >\n  <p class="films-gallery-item-title">'+r.toUpperCase()+'</p>\n  <p class="films-gallery-item-info">'+u.join(", ")+" | "+o.split("-")[0]+"</p>\n</li>\n";a.filmsGalleryList.insertAdjacentHTML("beforeend",c)}))}(n,t),{totalAmountOfFilms:i}}))}(V,r,Y):E(),a.pagination.style.display="block"),"MY LIBRARY"===J){a.header.insertAdjacentHTML("beforeend",i.myLibraryHeader);var e=A(b),t=Q(b);a.watchedBtn=document.querySelector(".header-button-watched"),a.queueBtn=document.querySelector(".header-button-queue"),null===document.querySelector(".modal")&&(a.main.removeEventListener("click",X),window.removeEventListener("keydown",K)),"watched"===Z?ee(e):(ee(t),a.watchedBtn.classList.remove("is-active-btn"),a.queueBtn.classList.add("is-active-btn")),a.watchedBtn=document.querySelector(".header-button-watched"),a.queueBtn=document.querySelector(".header-button-queue"),$(a.queueBtn,a.watchedBtn,t),$(a.watchedBtn,a.queueBtn,e)}Y=""}function K(e){"Escape"===e.code&&(z(),window.removeEventListener("keydown",K))}function X(e){switch(e.target){case a.addToWatchedBtn:case a.addToQueueBtn:break;default:z(),a.main.removeEventListener("click",X)}}function $(e,t,n){e.addEventListener("click",(function(i){i.preventDefault(),a.filmsGalleryList.innerHTML="",ee(n),t.classList.remove("is-active-btn"),e.classList.add("is-active-btn")}))}function ee(e){if(e)e.map((function(e){var t=e.id,n=e.poster_path,i=e.title,r=e.release_date,o=e.genres,s=e.vote_average,l='\n<li class="films-gallery-item" data-id="'+t+'">\n  <img\n    class="films-gallery-item-image"\n    src="https://image.tmdb.org/t/p/w342'+n+'"\n    alt="«'+i+'» film poster"\n  >\n  <p class="films-gallery-item-title">'+i.toUpperCase()+'</p>\n  <p class="films-gallery-item-info">'+o.join(", ")+" | "+r+'<span class="modal-info-vote-average library">'+s+"</span></p>\n</li>\n";a.filmsGalleryList.insertAdjacentHTML("beforeend",l)}));else{a.filmsGallery.innerHTML="";a.filmsGallery.insertAdjacentHTML("beforeend",'<div class="films-gallery-warning"><p>No movies here yet. Visit Home to add some =)</p><div>')}}a.headerSearchInput=document.querySelector(".header-search-form-input"),a.header=document.querySelector(".header-container-js"),a.main=document.querySelector("main"),a.libraryBtn=document.querySelector(".navigation-list-item-link-my-library"),a.homeLink=document.querySelector(".navigation-list-item-link-home"),a.filmsGalleryList=document.querySelector("#films-gallery"),a.pagination=document.querySelector("#pagination"),a.headerSearchInput.addEventListener("change",(function(e){return Y=e.target.value})),a.filmsGalleryList.addEventListener("click",(function(e){if(function(){J=document.querySelector(".current").textContent,V=Number(document.querySelector(".tui-is-selected").textContent),"MY LIBRARY"===J&&(a.activeBtn=document.querySelector(".is-active-btn"),Z=a.activeBtn.textContent)}(),"LI"!==e.target.parentNode.nodeName)return;a.libraryBtn.addEventListener("click",(function(e){window.removeEventListener("keydown",K),a.main.removeEventListener("click",X)})),F=e.target.parentNode.dataset.id,a.spinner.classList.add("is-open"),function(e,t,n){return fetch(""+e+n+"?api_key="+t+"&language=en-US").then((function(e){return e.json()})).catch((function(e){throw e}))}("https://api.themoviedb.org/3/movie/",R,F).then((function(e){var t={id:e.id,poster_path:e.poster_path,title:e.title,vote_average:e.vote_average,vote_count:e.vote_count,popularity:Math.ceil(10*e.popularity)/10,original_title:e.original_title,overview:e.overview,genres:e.genres.slice(0,2).map((function(e){return e.name})),release_date:e.release_date.split("-")[0]};e.genres.length>2&&t.genres.push("Other"),function(e){a.header.innerHTML="",a.filmsGalleryList.innerHTML="",a.pagination.style.display="none",a.header.insertAdjacentHTML("beforeend",i.modalHeader),a.main.insertAdjacentHTML("afterbegin",e),a.libraryBtn.addEventListener("click",x)}(U()(t)),window.addEventListener("keydown",K),a.main.addEventListener("click",X),a.addToWatchedBtn=document.querySelector("#js-watched-button"),a.addToQueueBtn=document.querySelector("#js-queue-button"),function(e){var t=T(b);if(t){if(t.userWatched)if(t.userWatched.some((function(t){return t.id===e.id}))){var n=t.userWatched.findIndex((function(t){return t.id===e.id}));console.log(n),t.userWatched[n].isInWatched&&B()}if(t.userQueue){var a=t.userQueue.some((function(t){return t.id===e.id}));if(console.log(a),a){var i=t.userQueue.findIndex((function(t){return t.id===e.id}));console.log(i),t.userQueue[i].isInQueue&&I()}}}else k.a.error("Please LOG IN to add the movie")}(t),a.addToWatchedBtn.addEventListener("click",(function(e){!function(e){var t=T(b);if(t&&t.userQueue&&(t.userWatched||(t.userWatched=[],W(b,t)),t.userQueue.some((function(t){return t.id===e.id})))){var n=t.userQueue.findIndex((function(t){return t.id===e.id}));e.isInQueue=!1,t.userQueue.splice(n,1),M(),console.log("movie was deleted wrom Queue and added to watched"),W(b,t)}}(t),q(t)})),a.addToQueueBtn.addEventListener("click",(function(e){!function(e){var t=T(b);if(t){if(!t.userQueue)return t.userWatched||(t.userWatched=[],t.userQueue=[],W(b,t)),H(e)?(console.log("you`ve already watched this movie"),k.a.warning("You`ve alredy watched this movie"),t.userQueue):(t.userQueue=[],e.isInQueue=!0,t.userQueue.push(e),t.userWatched||(t.userQueue=[]),W(b,t),k.a.success("Added to your Queue"),I(),t.userQueue);if(t.userWatched||(t.userWatched=[],W(b,t)),a.addToQueueBtn.classList.contains("js-is-in-queue")){var n=t.userQueue.findIndex((function(t){return t.id===e.id}));return e.isInQueue=!1,t.userQueue.splice(n,1),W(b,t),M(),k.a.success("Removed from your Queue"),t.userQueue}if(H(e))return console.log("you`ve already watched this movie"),k.a.warning("You`ve alredy watched this movie"),t.userQueue;var i=t.userQueue.some((function(t){return t.id===e.id}));return i?(console.log("this movie has already been added"),k.a.warning("This movie has already been added"),t.userQueue):i?void 0:(e.isInQueue=!0,t.userQueue.push(e),W(b,t),k.a.success("Added to your Queue"),I(),t.userQueue)}k.a.error("Please LOG IN to add the movie")}(t)}))})).catch((function(e){return console.log(e)})).finally((function(){a.spinner.classList.remove("is-open")}))}));n("PzF0"),n("x3Br"),n("y8Ly");var te=n("dcBu"),ne=n("LlGi"),ae=[{src:"https://ca.slack-edge.com/T01301DGATC-U013V8Q7HU1-b66c40babb7d-192",name:"Rostyslav Zahorulko",role:"Team-Lead"},{src:"https://ca.slack-edge.com/T01AD58HHH7-U01A5LX36UT-d79e95c64409-5122",name:"Arkadii Basovych",role:"Scrum Master"},{src:"https://ca.slack-edge.com/T01AD58HHH7-U01A9LTBZA8-06cbe1fcd7b6-512",name:"Oksana Cherepanova",role:"Developer"},{src:"https://ca.slack-edge.com/T01AD58HHH7-U019WN8GZJS-380c6cd06280-512",name:"Natalia Duvirak",role:"Developer"},{src:"https://ca.slack-edge.com/T01AD58HHH7-U01AT710YLQ-3a6d16128ec7-512",name:"David<br>Shakaya",role:"Developer"},{src:"https://ca.slack-edge.com/T01AD58HHH7-U01A3HTTQE6-4c9caf01316f-512",name:"Oleksii Maistriuk",role:"Developer"},{src:"https://ca.slack-edge.com/T01AD58HHH7-U01ATCQ5GKA-46dd5abf2215-512",name:"Zoe<br>Baletska",role:"Developer"},{src:"https://ca.slack-edge.com/T01AD58HHH7-U019WKPR89L-21c1789a67bc-512",name:"Serhii<br>Koziuba",role:"Developer"},{src:"https://ca.slack-edge.com/T01AD58HHH7-U019WP9NVN2-6122ddfef0b5-512",name:"Konstantin Bruno",role:"Developer"},{src:""+n.n(ne).a,name:"Iryna<br>Redka",role:"Developer"},{src:"https://ca.slack-edge.com/T01AD58HHH7-U019P8QMTUP-6513aed3ebc7-512",name:"Larysa Smyrnova",role:"Developer"}].reduce((function(e,t){var n=t.src,a=(t.link,t.name);return e+'\n<div class="team-card">\n <img class="team-image" src="'+n+'" alt="'+a+'">\n    <h2 class="team-name">'+a+'</h2>\n    <p class="team-role">'+t.role+"</p>\n</div>"}),"");document.querySelector(".open-modal-develop").addEventListener("click",(function(e){ie.show(),window.addEventListener("keydown",(function e(t){"Escape"===t.code&&(ie.close(),window.removeEventListener("keydown",e))}))}));var ie=te.create('<div class="team-wrapper">'+ae+"</div>")}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.5bd52aae40e1d6882f66.js.map